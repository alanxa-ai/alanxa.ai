- name: Deploy to VPS via SSH
  uses: appleboy/ssh-action@v1.0.3
  with:
    host: ${{ secrets.VPS_HOST }}
    username: root
    key: ${{ secrets.VPS_SSH_KEY }}
    port: 22
    debug: true
    script: |
      set -e
      cd /var/www/alanxa.ai
      git reset --hard
      git pull origin main
      cd server
      npm install
      pm2 restart alanxa-api || pm2 start index.js --name alanxa-api
      cd ../client
      npm install
      npm run build
      systemctl reload nginx
